!function(){"use strict";function t(t,e){var n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,r)}catch(t){}t.addEventListener("scroll",e,!!n&&{passive:!0})}function e(t,e){var n=t.getBoundingClientRect();return n.bottom+e>=0&&n.left>=0&&n.top-e<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)}function n(){0!==a.length&&(console.dir(a),console.log("loadMedia..."),a=a.reduce(function(t,n){var i=n.getAttribute("data-src"),a=n.getAttribute("data-sized-src"),c=n.getAttribute("data-current-src");if(i&&c&&i===c)return t;if(!e(n,1e3))return t.push(n),t;var o=n.clientHeight,l=n.clientWidth;switch(a&&o&&l&&(!0,i=a.replace("#height#",o).replace("#width#",l)),n.tagName){case"IMG":case"IFRAME":n.removeAttribute("data-src"),n.setAttribute("data-current-src",i),n.src=i;break;case"DIV":r(n,i),n.removeAttribute("data-src"),n.setAttribute("data-current-src",i);break;default:t.push(n)}return t},[]))}function r(t,e){var n=new Image;t.innerHTML='<div class="preload"></div>';t.style.opacity=.7,n.onload=function(){t.innerHTML="",t.style.opacity=1},n.src=e,t.style.backgroundImage="url("+e+")"}function i(t){a=a.concat(Array.prototype.slice.call(t.querySelectorAll("img[data-src], iframe[data-src], div[data-src], div[data-sized-src], img[data-sized-src]"))),a.length>0&&n()}var a=[];angular.module("angular-lazy-loader",[]).directive("angularLazyLoad",["$window","$timeout","$rootScope","$q",function(e,r,a,c){return{restrict:"EA",scope:!0,link:function(c,o,l){function d(){g&&r.cancel(g),g=r(function(){i(o[0]),n()},100)}function u(){f&&r.cancel(f),f=r(n,100)}var s="false"===l.initOnLoad||!1,g=null,f=null;s||d(),c.$on("$includeContentLoaded",d),a.$on("selectiveLoad",d),window._ll_cb||(console.log("Registrering window callbacks"),t(e,u),angular.element(e).bind("resize",u),window._ll_cb=!0)}}}])}();