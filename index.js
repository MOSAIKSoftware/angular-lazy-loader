!function(){"use strict";function t(t,e){var n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,r)}catch(t){}t.addEventListener("scroll",e,!!n&&{passive:!0})}angular.module("angular-lazy-loader",[]).directive("angularLazyLoad",["$window","$timeout","$rootScope","$q",function(e,n,r,i){return{restrict:"EA",scope:!0,link:function(i,a,c){function u(){g=Array.prototype.slice.call(a[0].querySelectorAll("img[data-src], iframe[data-src], div[data-src], div[data-sized-src], img[data-sized-src]")),g.length>0&&o()}function d(t){var e=t.getBoundingClientRect();return e.bottom+f>=0&&e.left>=0&&e.top-f<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}function o(){g=g.reduce(function(t,e){var n=e.getAttribute("data-src"),r=e.getAttribute("data-sized-src"),i=e.getAttribute("data-current-src");if(n&&i&&n===i)return t;if(!d(e))return t.push(e),t;var a=e.clientHeight,c=e.clientWidth;switch(r&&a&&c&&(!0,n=r.replace("#height#",a).replace("#width#",c)),e.tagName){case"IMG":case"IFRAME":e.setAttribute("data-current-src",n),e.src=n;break;case"DIV":e.style.backgroundImage="url("+n+")",e.setAttribute("data-current-src",n);break;default:t.push(e)}return t},[])}function l(){m&&n.cancel(m),m=n(function(){u(),o()},100)}function s(){n(o,1)}var g=[],f=Number(c.threshold)||0,h="false"===c.initOnLoad||!1,m=null;h||l(),i.$on("$includeContentLoaded",l),r.$on("selectiveLoad",l),t(e,s),angular.element(e).bind("resize",s)}}}])}();